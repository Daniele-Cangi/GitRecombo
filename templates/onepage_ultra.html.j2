<!doctype html>
<html><head><meta charset="utf-8"/>
<title>{{ project.name }} - GitRecombo Ultra Blueprint</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<style>
 body{font-family:Inter,system-ui,Arial;margin:0;padding:0;line-height:1.6;background:#f5f5f5}
 .container{max-width:1200px;margin:0 auto;background:white;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
 .header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:48px 32px;text-align:center}
 .header h1{margin:0;font-size:3em;font-weight:700}
 .header .tagline{font-size:1.3em;margin:16px 0 8px;opacity:0.95}
 .header .vision{font-size:1em;opacity:0.85;max-width:800px;margin:0 auto}
 .section{padding:32px;border-bottom:1px solid #eee}
 .section h2{color:#333;border-bottom:3px solid #667eea;padding-bottom:8px;margin-bottom:24px}
 .section h3{color:#555;margin-top:24px;margin-bottom:12px}
 .sources-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:16px;margin:24px 0}
 .source-card{border:1px solid #ddd;border-radius:8px;padding:16px;background:#fafafa}
 .source-card h4{margin:0 0 8px;color:#667eea}
 .source-card .url{font-size:0.9em;color:#666;word-break:break-all}
 .source-card .license{display:inline-block;padding:4px 8px;background:#e0e7ff;color:#4338ca;border-radius:4px;font-size:0.85em;margin:8px 0}
 .source-card .concepts{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
 .concept-tag{font-size:0.75em;padding:3px 8px;background:#f3f4f6;border:1px solid #d1d5db;border-radius:12px;color:#374151}
 .scores{display:grid;grid-template-columns:repeat(3,1fr);gap:8px;margin-top:12px}
 .score-item{text-align:center;padding:8px;background:white;border-radius:6px;border:1px solid #e5e7eb}
 .score-label{font-size:0.7em;color:#6b7280;text-transform:uppercase;letter-spacing:0.5px}
 .score-value{font-size:1.3em;font-weight:700;color:#667eea}
 .concept-block{background:#f9fafb;border-left:4px solid #667eea;padding:20px;margin:24px 0;border-radius:4px}
 .concept-block h3{color:#667eea;margin-top:0}
 .problem{background:#fef2f2;border-left:4px solid #ef4444;padding:16px;margin:12px 0;border-radius:4px}
 .solution{background:#f0fdf4;border-left:4px solid #22c55e;padding:16px;margin:12px 0;border-radius:4px}
 .architecture{background:#1e293b;color:#e2e8f0;padding:16px;border-radius:8px;overflow-x:auto;margin:16px 0}
 .architecture pre{margin:0;font-family:ui-monospace,Menlo,Monaco,Consolas,monospace;font-size:0.85em;white-space:pre}
 .timeline{background:#fffbeb;border:1px solid #fcd34d;border-radius:8px;padding:16px;margin:16px 0}
 .timeline-item{padding:8px 0;border-left:3px solid #fbbf24;padding-left:12px;margin-left:8px}
 .kpi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:12px;margin:16px 0}
 .kpi-card{background:#ecfdf5;border:1px solid #6ee7b7;border-radius:8px;padding:16px;font-size:0.9em}
 .risks{background:#fef2f2;border:1px solid #fca5a5;border-radius:8px;padding:16px;margin:16px 0}
 .mitigations{background:#f0fdf4;border:1px solid #86efac;border-radius:8px;padding:16px;margin:16px 0}
 ul{padding-left:24px}
 li{margin:6px 0}
 .badge{display:inline-block;padding:4px 12px;border-radius:16px;font-size:0.85em;font-weight:600;margin:0 4px}
 .badge-novelty{background:#dbeafe;color:#1e40af}
 .badge-risk{background:#fee2e2;color:#991b1b}
 .badge-milestone{background:#fef3c7;color:#92400e}
 .footer{background:#f9fafb;padding:24px;text-align:center;color:#6b7280;font-size:0.9em}
 .collapsible{cursor:pointer;user-select:none;padding:12px;background:#f3f4f6;border-radius:6px;margin:8px 0}
 .collapsible:hover{background:#e5e7eb}
 .collapsible-content{display:none;padding:16px;border:1px solid #e5e7eb;border-radius:6px;margin-top:8px}
</style>
<script>
function toggleCollapsible(id){
  const el=document.getElementById(id);
  el.style.display = el.style.display==='block'?'none':'block';
}
</script>
</head>
<body>

<div class="container">
  <!-- HEADER -->
  <div class="header">
    <h1>üöÄ {{ project.name }}</h1>
    <div class="tagline">{{ project.tagline }}</div>
    <div class="vision">{{ project.vision }}</div>
  </div>

  <!-- WHY NOW -->
  {% if project.why_now %}
  <div class="section">
    <h2>‚è∞ Why Now?</h2>
    <p style="font-size:1.1em;color:#374151">{{ project.why_now }}</p>
  </div>
  {% endif %}

  <!-- SOURCE REPOSITORIES -->
  <div class="section">
    <h2>üìö Source Repositories ({{ sources|length }})</h2>
    <div class="sources-grid">
    {% for source in sources %}
      <div class="source-card">
        <h4>{{ source.name }}</h4>
        <div class="url"><a href="{{ source.url }}" target="_blank" rel="noopener">{{ source.url }}</a></div>
        <span class="license">{{ source.license or 'N/A' }}</span>
        <div class="scores">
          <div class="score-item">
            <div class="score-label">Novelty</div>
            <div class="score-value">{{ '%.2f' % (source.novelty or 0) }}</div>
          </div>
          <div class="score-item">
            <div class="score-label">Relevance</div>
            <div class="score-value">{{ '%.2f' % (source.relevance or 0) }}</div>
          </div>
          <div class="score-item">
            <div class="score-label">Health</div>
            <div class="score-value">{{ '%.2f' % (source.health or 0) }}</div>
          </div>
        </div>
        <div class="concepts">
          {% for concept in (source.concepts or []) %}
          <span class="concept-tag">{{ concept }}</span>
          {% endfor %}
        </div>
      </div>
    {% endfor %}
    </div>
  </div>

  <!-- CONCEPTS -->
  {% for concept in concepts %}
  <div class="section">
    <div class="concept-block">
      <h2>üí° Concept {{ loop.index }}: {{ concept.solution.split(':')[0] if ':' in concept.solution else 'Innovation' }}</h2>
      
      <!-- PROBLEM -->
      <h3>‚ùå Problem</h3>
      <div class="problem">{{ concept.problem }}</div>
      
      <!-- SOLUTION -->
      <h3>‚úÖ Solution</h3>
      <div class="solution">{{ concept.solution }}</div>
      
      <!-- ARCHITECTURE -->
      {% if concept.architecture_ascii %}
      <h3>üèóÔ∏è Architecture</h3>
      <div class="architecture">
        <pre>{{ concept.architecture_ascii }}</pre>
      </div>
      {% endif %}
      
      <!-- WHY IT WORKS -->
      <h3>üéØ Why It Works</h3>
      <ul>
      {% for reason in concept.why_it_works %}
        <li>{{ reason }}</li>
      {% endfor %}
      </ul>
      
      <!-- NOVELTY LEVERS -->
      {% if concept.novelty_levers %}
      <div class="collapsible" onclick="toggleCollapsible('novelty-{{ loop.index }}')">
        <span class="badge badge-novelty">üìä Novelty Levers</span> (click to expand)
      </div>
      <div id="novelty-{{ loop.index }}" class="collapsible-content">
        <ul>
        {% for lever in concept.novelty_levers %}
          <li>{{ lever }}</li>
        {% endfor %}
        </ul>
      </div>
      {% endif %}
      
      <!-- RISKS & MITIGATIONS -->
      <div class="collapsible" onclick="toggleCollapsible('risks-{{ loop.index }}')">
        <span class="badge badge-risk">‚ö†Ô∏è Risks & Mitigations</span> (click to expand)
      </div>
      <div id="risks-{{ loop.index }}" class="collapsible-content">
        <div class="risks">
          <h4>Risks:</h4>
          <ul>
          {% for risk in concept.risks %}
            <li>{{ risk }}</li>
          {% endfor %}
          </ul>
        </div>
        <div class="mitigations">
          <h4>Mitigations:</h4>
          <ul>
          {% for mitigation in concept.mitigations %}
            <li>{{ mitigation }}</li>
          {% endfor %}
          </ul>
        </div>
      </div>
      
      <!-- TIMELINE -->
      {% if concept.timeline_90d %}
      <div class="collapsible" onclick="toggleCollapsible('timeline-{{ loop.index }}')">
        <span class="badge badge-milestone">üìÖ 90-Day Timeline</span> (click to expand)
      </div>
      <div id="timeline-{{ loop.index }}" class="collapsible-content">
        <div class="timeline">
          {% for week in concept.timeline_90d %}
          <div class="timeline-item">{{ week }}</div>
          {% endfor %}
        </div>
      </div>
      {% endif %}
      
      <!-- KPIs -->
      {% if concept.kpis_90d %}
      <h3>üìä Key Performance Indicators (90 days)</h3>
      <div class="kpi-grid">
        {% for kpi in concept.kpis_90d %}
        <div class="kpi-card">‚úì {{ kpi }}</div>
        {% endfor %}
      </div>
      {% endif %}
      
      <!-- FIRST MILESTONE -->
      {% if concept.first_milestone %}
      <h3>üéØ First Milestone</h3>
      <div style="background:#fef3c7;border-left:4px solid #f59e0b;padding:16px;border-radius:4px">
        {{ concept.first_milestone }}
      </div>
      {% endif %}
      
      <!-- GTM -->
      {% if concept.gtm %}
      <div class="collapsible" onclick="toggleCollapsible('gtm-{{ loop.index }}')">
        <span class="badge" style="background:#e0e7ff;color:#4338ca">üöÄ Go-To-Market</span> (click to expand)
      </div>
      <div id="gtm-{{ loop.index }}" class="collapsible-content">
        <p><strong>ICP:</strong> {{ concept.gtm.icp }}</p>
        <p><strong>Channels:</strong></p>
        <ul>
        {% for channel in concept.gtm.channels %}
          <li>{{ channel }}</li>
        {% endfor %}
        </ul>
        <p><strong>Pricing Hypothesis:</strong> {{ concept.gtm.pricing_hypothesis }}</p>
      </div>
      {% endif %}
      
    </div>
  </div>
  {% endfor %}

  <!-- FOOTER -->
  <div class="footer">
    <p>ü§ñ Generated by <strong>GitRecombo Ultra Mode</strong> with GPT-5</p>
    <p>üî¨ Discovery: novelty + health + relevance + diversity scoring</p>
    <p>‚ö° Mission: {{ mission_file }}</p>
    <p>üìÖ {{ timestamp }}</p>
  </div>
</div>

</body></html>
